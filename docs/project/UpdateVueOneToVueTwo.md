# 关于老版本项目从Vue1.0升级到Vue2.0的过程和注意事项

:::tip
本次项目的升级时间为：`2021/16/19`。时间周期为**一周**。截至日期：`2021/6/25`。
:::

## 目的

* 提高代码开发规范和开发者使用规范（严格设置限制）。

* 降低部分组件的可复用，从而减低组件的耦合度。

## 可行性方案

### 规范限制

老版本没有通过`eslint + premitter`严格限制代码格式，导致项目上存在很多弊端，如：

1. 代码结构丑陋，具有代码洁癖的用户难以接受！

2. 代码参数命名随心所欲，且没有详细的注释！

3. `git commit`无法控制属于自己的样式规则，导致用户修改错乱！

基于此，也为了更好的后续维护和扩展，样式lint的规范已经箭在弦上，不得不做了。

#### 如何迁移

#### 如何从快速的对原有代码进行`lint`

现有的代码已存在一定的量级，此时去执行`npm run lint`，不仅不能够顺利执行，还会导致项目处于阻塞的状态。因此，需要另辟蹊径。

好在，如果我们对原生的eslint足够熟悉话，就可以知道通过指定特定的文件进行eslint。

那么，可以通过将项目拆分成数个小的文件，从而进行有效而快速的lint。同时，也会带来一个新的好处——更精细化的处理每一个文件！

具体操作步骤如下：

1. 将项目按文件夹分成若干个lint块。在这个过程中，可以将不需要lint的文件或文件夹放入到`.eslintignore.js`文件进行忽略。

2. 将需要的lint的文件，按照顺序进行`eslint --fix`。同时检查每一处报错并处理。

	* 在`package.json`编写`"lint:ext": "eslint --ext *.js,.vue src/views/acceptance/** --fix"`脚本。

	* 陆续将`src/views/acceptance/**`换成自己的eslint目录，逐个lint即可。

	<img :src="$withBase('/images/updateVueOneToVueTwo/eslint-script.png')" alt="error">

3. 最后保存。

:::tip
解决`eslint --fix`报错的方式有多种多样，在现阶段只要能够清除报错就算抓到老鼠的好猫。
:::